滑动验证码破解
====
以b站登陆为例，使用selenium通过滑动验证码验证完成登陆。
实现过程中主要有三大难点及解决方案。

一.验证码图片的获取及还原
---
滑动验证码的图片有两张，一张是完整的，另一张是有缺口的。并且图片被分割成52块，2*26布局，每个小块大小为10*58，审查元素可以获得图片链接和位置，由于小块顺序被打乱，需记录通过审查元素获得的顺序，然后组合成正确的图片.

 二.缺口位置的确定
 ---
 此处需要用到一些图像处理的知识，取两张图片的像素点依个对比，数值相差较大的就是缺口。应注意是相差大而不是有相差就是缺口！仔细观察缺口图片和完整图片，发现其中还有一些很淡的缺口用来迷惑。像素点差值可自己设定，50-80左右即可。
 
 三.移动滑块的路径设置
 ---
 这个应该是最难处理的了，将滑块移动到缺口位置并不难，但若是简单的移动，几乎百分百会被认定为机器而验证失败。之后采用物理中简单的变速运动，先加速后减速，但成功率仍然非常低，估计10%左右，之后加速度随机取用几个设定值中的一个，形成‘抖动效果’，成功率并未提升。之后又加入‘回头’，先移动过多后移动回来，成功率提升到20%多，效果明显但成功率依然太低。之后在网上搜索时，发现了一种动画制作中经常用到的一种函数，用来指定动画效果在执行时的速度，使其看起来更加真实，叫做缓动函数。人自己在滑动滑块时候是先加速后减速的，鼠标轨迹很容易画出来，查阅缓动函数，其中有不少函数图像接近，我选用了easeInOutExpo，用这个作为selenium滑动滑块的运动轨迹，效果非常显著，成功率暴增至95%左右。
 ![鼠标移动轨迹](https://github.com/weizhimeng/selenium-Sliding-verification-code/blob/master/shubiaoguiji.png)
